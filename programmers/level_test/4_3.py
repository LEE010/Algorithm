matrix_sizes =[[5,3],[3,10],[10,6]]	#270
def mul_ok(a,b):
    if a[1] == b[0]:
        return True

def search(index,matrix_sizes,before_mul_num=0):
    matrix_sizes[index]
    return
def solution(matrix_sizes):
    answer = 0
    for i,shape in enumerate(matrix_sizes):

    return answer
